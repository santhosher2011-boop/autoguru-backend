#!/usr/bin/env python3
"""
Populate MongoDB with sample cars – run after containers are up.
docker compose exec api python scripts/seed_cars.py
"""
import sys, os
sys.path.insert(0, "/app")
import asyncio,os
from motor.motor_asyncio import AsyncIOMotorClient
from beanie import init_beanie
from app.models.car import Car,Variant

URI=os.getenv('MONGO_URI')
client=AsyncIOMotorClient(URI)

async def seed():
    await init_beanie(database=client.autoguru,document_models=[Car])
    await Car.delete_all()          # <- fixed name
    cars=[
        # Car(make='Maruti',model='Swift',year=2024,body_type='Hatchback',thumbnail='https://i.imgur.com/swift.jpg',images=['https://i.imgur.com/swift1.jpg','https://i.imgur.com/swift2.jpg'],variants=[Variant(name='VXi',price_inr=650000,fuel='Petrol',transmission='Manual',mileage=22),Variant(name='ZXi',price_inr=750000,fuel='Petrol',transmission='Auto',mileage=22)],highlights=['Fun to drive','Great mileage','Cheap service'],ai_summary='Swift is a fun, pocket-friendly hatchback with great mileage.'),
        # Car(make='Hyundai',model='Creta',year=2024,body_type='SUV',thumbnail='https://i.imgur.com/creta.jpg',images=['https://i.imgur.com/creta1.jpg','https://i.imgur.com/creta2.jpg'],variants=[Variant(name='E',price_inr=1100000,fuel='Petrol',transmission='Manual',mileage=17),Variant(name='SX',price_inr=1400000,fuel='Petrol',transmission='Auto',mileage=17)],highlights=['Big family SUV','Sunroof','Safe 5-star'],ai_summary='Creta is a comfy family SUV with sunroof and 5-star safety.'),
        # Car(make='Tata',model='Nexon',year=2024,body_type='SUV',thumbnail='https://i.imgur.com/nexon.jpg',variants=[Variant(name='XM',price_inr=900000,fuel='Diesel',transmission='Manual',mileage=24)],highlights=['5-star safety','Diesel economy','Made in India'],ai_summary='Nexon is a super-safe Indian SUV with diesel economy.'),
        # Car(make='Mahindra',model='XUV700',year=2024,body_type='SUV',thumbnail='https://i.imgur.com/xuv700.jpg',variants=[Variant(name='AX7',price_inr=2200000,fuel='Petrol',transmission='Auto',mileage=15)],highlights=['Huge touchscreen','ADAS safety','Panoramic sunroof'],ai_summary='XUV700 is a tech-loaded, big family SUV.'),
        # Car(make='Toyota',model='Innova',year=2024,body_type='MPV',thumbnail='https://i.imgur.com/innova.jpg',variants=[Variant(name='GX',price_inr=1900000,fuel='Diesel',transmission='Manual',mileage=12)],highlights=['8 seats','Bullet-proof engine','High resale'],ai_summary='Innova is the ultimate 8-seater family tourer.')

        # ======= HATCHBACKS =======
        Car(make="Maruti", model="Swift",      year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=500", images=["https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800","https://images.unsplash.com/photo-1563720223185-11003d516935?w=800"], variants=[Variant(name="VXi", price_inr=650000, fuel="Petrol", transmission="Manual", mileage=22), Variant(name="ZXi", price_inr=750000, fuel="Petrol", transmission="Auto", mileage=22)], highlights=["Fun to drive","Great mileage","Cheap service"], ai_summary="Swift is a fun, pocket-friendly hatchback with great mileage."),
        Car(make="Hyundai", model="i20",       year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=500", images=["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="Magna", price_inr=780000, fuel="Petrol", transmission="Manual", mileage=20), Variant(name="Asta", price_inr=950000, fuel="Petrol", transmission="Auto", mileage=20)], highlights=["Premium cabin","Wireless Android","Turbo engine"], ai_summary="i20 brings big-car features to a hatchback."),
        Car(make="Tata", model="Altroz",      year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="XM+", price_inr=720000, fuel="Diesel", transmission="Manual", mileage=25), Variant(name="XZA", price_inr=920000, fuel="Petrol", transmission="Auto", mileage=19)], highlights=["5-star safety","Spacious cabin","Diesel economy"], ai_summary="Altroz gives you space and 5-star safety in a hatch."),
        Car(make="Toyota", model="Glanza",    year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=500", images=["https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="G", price_inr=740000, fuel="Petrol", transmission="Manual", mileage=21), Variant(name="V", price_inr=890000, fuel="Petrol", transmission="Auto", mileage=21)], highlights=["Toyota reliability","Mild-hybrid","Low upkeep"], ai_summary="Glanza is a trustworthy, low-cost hatchback."),
        Car(make="Honda", model="Jazz",      year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800"], variants=[Variant(name="V", price_inr=820000, fuel="Petrol", transmission="Manual", mileage=17), Variant(name="VX CVT", price_inr=1020000, fuel="Petrol", transmission="Auto", mileage=17)], highlights=["Magic seats","Honda engine","Spacious"], ai_summary="Jazz packs maximum space inside a small footprint."),

        # ======= SUB-4m SUVs =======
        Car(make="Tata", model="Nexon",       year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="XM", price_inr=920000, fuel="Diesel", transmission="Manual", mileage=24), Variant(name="XZA+", price_inr=1350000, fuel="Petrol", transmission="Auto", mileage=17)], highlights=["5-star safety","Diesel economy","Made in India"], ai_summary="Nexon is a super-safe Indian SUV with diesel economy."),
        Car(make="Mahindra", model="XUV700",  year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="AX7", price_inr=2350000, fuel="Petrol", transmission="Auto", mileage=15), Variant(name="AX7 Diesel", price_inr=2450000, fuel="Diesel", transmission="Auto", mileage=16)], highlights=["Huge touchscreen","ADAS safety","Panoramic sunroof"], ai_summary="XUV700 is a tech-loaded, big family SUV."),
        Car(make="Hyundai", model="Creta",    year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="E", price_inr=1150000, fuel="Petrol", transmission="Manual", mileage=17), Variant(name="SX(O)", price_inr=1850000, fuel="Petrol", transmission="Auto", mileage=17)], highlights=["Big family SUV","Sunroof","Safe 5-star"], ai_summary="Creta is a comfy family SUV with sunroof and 5-star safety."),
        Car(make="Kia", model="Seltos",      year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="HTE", price_inr=1080000, fuel="Petrol", transmission="Manual", mileage=17), Variant(name="GTX+", price_inr=1950000, fuel="Petrol", transmission="Auto", mileage=17)], highlights=["Connected car","10-inch screen","BOSE sound"], ai_summary="Seltos brings big-screen tech to the mid-size SUV."),
        Car(make="MG", model="Astor",       year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="Style", price_inr=1398000, fuel="Petrol", transmission="Auto", mileage=15), Variant(name="Savvy", price_inr=1848000, fuel="Petrol", transmission="Auto", mileage=15)], highlights=["AI assistant","Level-2 ADAS","Panoramic camera"], ai_summary="Astor packs AI tech and ADAS at a friendly price."),

        # ======= MPVs =======
        Car(make="Toyota", model="Innova",     year=2024, body_type="MPV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="GX", price_inr=1920000, fuel="Diesel", transmission="Manual", mileage=12), Variant(name="ZX", price_inr=2450000, fuel="Diesel", transmission="Auto", mileage=12)], highlights=["8 seats","Bullet-proof engine","High resale"], ai_summary="Innova is the ultimate 8-seater family tourer."),
        Car(make="Kia", model="Carnival",     year=2024, body_type="MPV", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="Premium", price_inr=3595000, fuel="Diesel", transmission="Auto", mileage=14), Variant(name="Limousine", price_inr=4195000, fuel="Diesel", transmission="Auto", mileage=14)], highlights=["VIP seats","3-row sunroof","Captain seats"], ai_summary="Carnival is a luxury lounge on wheels."),

        # ======= Executive Sedans =======
        Car(make="Honda", model="City",       year=2024, body_type="Sedan", thumbnail="https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=500", images=["https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800","https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800"], variants=[Variant(name="SV", price_inr=1120000, fuel="Petrol", transmission="Manual", mileage=17), Variant(name="ZX CVT", price_inr=1620000, fuel="Petrol", transmission="Auto", mileage=17)], highlights=["Spacious cabin","Honda reliability","Sunroof"], ai_summary="City is the gold-standard executive sedan."),
        Car(make="Hyundai", model="Verna",    year=2024, body_type="Sedan", thumbnail="https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=500", images=["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800","https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800"], variants=[Variant(name="EX", price_inr=1080000, fuel="Petrol", transmission="Manual", mileage=19), Variant(name="SX Turbo DCT", price_inr=1710000, fuel="Petrol", transmission="Auto", mileage=19)], highlights=["Turbo engine","Connected tech","Digital cluster"], ai_summary="Verna mixes turbo fun with modern tech."),
        Car(make="Skoda", model="Slavia",    year=2024, body_type="Sedan", thumbnail="https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=500", images=["https://images.unsplash.com/photo-1583121274602-3e2820c69888?w=800","https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800"], variants=[Variant(name="Active", price_inr=1149000, fuel="Petrol", transmission="Manual", mileage=20), Variant(name="Style", price_inr=1699000, fuel="Petrol", transmission="Auto", mileage=20)], highlights=["European ride","Big boot","Ventilated seats"], ai_summary="Slavia gives you European sedan feel at Indian price."),

        # ======= Luxury SUVs =======
        Car(make="Toyota", model="Fortuner",  year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="4×2", price_inr=3350000, fuel="Diesel", transmission="Manual", mileage=14), Variant(name="4×4 AT", price_inr=4200000, fuel="Diesel", transmission="Auto", mileage=14)], highlights=["Road presence","Bullet-proof engine","4×4 hardware"], ai_summary="Fortuner is the king of the road with bullet-proof reliability."),
        Car(make="Jeep", model="Compass",   year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="Sport", price_inr=2129000, fuel="Diesel", transmission="Manual", mileage=17), Variant(name="Model S", price_inr=2899000, fuel="Diesel", transmission="Auto", mileage=17)], highlights=["Jeep heritage","Panoramic sunroof","10-inch screen"], ai_summary="Compass gives you Jeep heritage plus modern luxuries."),
        Car(make="Volkswagen", model="Tiguan", year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="Comfortline", price_inr=3550000, fuel="Petrol", transmission="Auto", mileage=14), Variant(name="Highline", price_inr=3950000, fuel="Petrol", transmission="Auto", mileage=14)], highlights=["German build","R-Line body","9-airbags"], ai_summary="Tiguan brings German engineering and solid build to India."),

        # ======= Electric =======
        Car(make="Tata", model="Tiago EV",   year=2024, body_type="Hatchback", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="MR", price_inr=849000, fuel="Electric", transmission="Auto", mileage=315), Variant(name="LR", price_inr=1049000, fuel="Electric", transmission="Auto", mileage=250)], highlights=["Cheapest EV","City run-about","Low running cost"], ai_summary="Tiago EV is India’s most affordable electric car."),
        Car(make="MG", model="ZS EV",      year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500", images=["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800","https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800"], variants=[Variant(name="Excite", price_inr=2298000, fuel="Electric", transmission="Auto", mileage=461), Variant(name="Exclusive", price_inr=2698000, fuel="Electric", transmission="Auto", mileage=461)], highlights=["Long range","Panoramic sunroof","Connected car"], ai_summary="ZS EV offers long range and SUV space at a sweet price."),
        Car(make="BYD", model="Atto 3",    year=2024, body_type="SUV", thumbnail="https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=500", images=["https://images.unsplash.com/photo-1617531653332-bd46c24f2068?w=800","https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800"], variants=[Variant(name="Standard", price_inr=3390000, fuel="Electric", transmission="Auto", mileage=521), Variant(name="Special", price_inr=3790000, fuel="Electric", transmission="Auto", mileage=521)], highlights=["Blade battery","Safe EV","Feature loaded"], ai_summary="Atto 3 brings Blade-battery tech and premium EV features."),

    
    
    ]
    
    for c in cars:          # insert one by one
        await c.insert()
    print('✅ 25 toy cars parked!')

asyncio.run(seed())